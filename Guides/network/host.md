## 使用主机网络

如果您对容器使用主机网络模式，则该容器的网络堆栈不会与`Docker`主机隔离（该容器共享主机的网络名称空间），并且该容器不会分配自己的`IP`地址。例如，如果您运行一个绑定到端口`80`的容器，并且使用主机网络，则该容器的应用程序可以在主机`IP`地址的端口`80`上使用。

> 注意：假设使用主机模式网络时容器没有自己的`IP`地址，端口映射不会生效，并且`-p`，`--publish`，`-P`和`--publish-all`选项将被忽略，改为发出警告：

> 警告：使用主机网络模式时，已发布的端口将被丢弃
主机模式网络对于优化性能以及在容器需要处理大量端口的情况下很有用，因为它不需要网络地址转换（NAT），并且不会为每个端口创建“ userland-proxy”。

主机网络驱动程序仅在`Linux`主机上工作，而`Mac`的`Docker`桌面，`Windows`的`Docker`桌面或`Windows Server`的`Docker EE`不支持该主机网络驱动程序。

通过将`--network host`传递给`docker service create`命令，您还可以将主机网络用于群集服务。在这种情况下，控制流量（与管理群集和服务有关的流量）仍会通过覆盖网络发送，但是单个群集服务容器会使用`Docker`守护程序的主机网络和端口发送数据。这带来了一些额外的限制。例如，如果服务容器绑定到端口`80`，则在给定的群集节点上只能运行一个服务容器。